<div class="p-5">
  <div class="d-flex justify-content-between mb-4 align-items-center ">
    <h1>Projects</h1>
    <button
      (click)="OpenCreateProjectDialog()"
      class="btn btn-primary h-25 rounded-1  "
    >
      Create project
    </button>
  </div>
  <div class="border w-25 d-flex align-items-center ">
    <input
    type="text"
    id="form3Example1"
    class="border-0 p-2 w-100"
    style="outline: none;"
    placeholder="Enter Search Project"
    >
    <mat-icon>search</mat-icon>
  </div>
  <table
    mat-table
    [dataSource]="ProjectList"
    class="mat-elevation-z8"
    style="box-shadow: none"
    *ngIf="ProjectList && ProjectList.length!==0"
  >
       
    <ng-container  matColumnDef="ProjectName">
      <th
        mat-header-cell
        *matHeaderCellDef
      >
        Name
      </th>
      <td mat-cell *matCellDef="let element">
        <div class="d-flex align-items-center gap-2">
          <img class="rounded-1 " width="30" height="30" src="/assets/10402.svg">
          <div [routerLink]="'12/details'" style="cursor: pointer;color: blue;text-decoration: underline;">{{ element.projectname }}</div>
        </div>
        
      </td>
    </ng-container>
    <ng-container  matColumnDef="Key">
      <th mat-header-cell *matHeaderCellDef >
        Key
      </th>
      <td mat-cell *matCellDef="let element" >
        <div>
         
        </div>
      NAC
      </td>
    </ng-container>
    <ng-container matColumnDef="Lead">
      <th
        mat-header-cell
        *matHeaderCellDef
      >
        Lead
      </th>
      <td mat-cell *matCellDef="let element">
        <div class="d-flex align-items-center gap-1 ">
          <div  style="
                display: flex;
                width: 25px;
                height: 25px;
                background-color: rgb(92, 89, 255);
                border-radius: 50%;
                justify-content: center;
                align-items: center;
                color: white;
              ">
            {{getProjectLead(element.users).username[0].toUpperCase()}}
          </div>      
          <div>{{getProjectLead(element.users).username}}</div>
        </div>
      </td>
    </ng-container>
<ng-container  matColumnDef="Created At">
  <th mat-header-cell *matHeaderCellDef >
    Created At
  </th>
  <td mat-cell *matCellDef="let element" >
    {{ element.createdAt | date : "MMM dd, yyyy" }}
  </td>
</ng-container>

    <ng-container  matColumnDef="Actions">
      <th
      
        mat-header-cell
        *matHeaderCellDef
       
      >
        Actions
      </th>
      <td   mat-cell *matCellDef="let element">
        <mat-icon style="cursor: pointer;" [matMenuTriggerFor]="menu">more_horiz</mat-icon>
        <mat-menu #menu="matMenu" xPosition="before">
         <div [routerLink]="[element.projectId,'details']" mat-menu-item>Project Setting</div>
         <div (click)="openDeleteDialog(element.projectId)" mat-menu-item>Delete Project</div>
        </mat-menu>
        
      </td>
    </ng-container>

    <tr  mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
  <div *ngIf="!ProjectList" class="d-flex justify-content-center align-items-center" style="height: 50vh;">
    <div class="spinner-border spinner-border" style="width: 3rem; height: 3rem;" role="status">
    </div>
  </div>
  <div class="d-flex justify-content-center align-items-center flex-column" style="height: 50vh;"
    *ngIf="ProjectList && ProjectList.length===0">
      <img width="180" height="180" src="https://cdni.iconscout.com/illustration/premium/thumb/no-projects-4064370-3363931.png">
      <div class="fs-5">No Project Click to Create new Project</div>
  </div>
</div>
